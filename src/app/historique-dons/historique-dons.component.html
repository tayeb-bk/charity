<div class="container mt-5">
  <h2 class="text-center mb-4">üì¶ Liste des Dons</h2>

  <!-- Barre de recherche -->
  <div class="d-flex justify-content-center mb-4">
    <label for="searchType" class="me-2 align-self-center">Rechercher par type de donation :</label>
    <select id="searchType" class="form-select w-auto me-2" [(ngModel)]="searchType">
      <option value="">Tous les dons</option>
      <option value="MONETAIRE">Mon√©taire</option>
      <option value="MATERIEL">Mat√©riel</option>
    </select>
    <button class="btn btn-primary" (click)="filterDonations()">Rechercher</button>
  </div>

  <!-- Tableau des dons -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered text-center shadow-sm">
      <thead class="table-dark text-white">
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Pr√©nom</th>
          <th>Adresse</th>
          <th>Num√©ro</th>
          <th>Description</th>
          <th>Type de donation</th>
          <th>Montant (‚Ç¨)</th>
          <th>Moyen de paiement</th>
          <th>√âtat</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let donation of filteredDonations">
          <td>{{ donation.id }}</td>
          <td class="fw-bold">{{ donation.nom }}</td>
          <td>{{ donation.prenom }}</td>
          <td>{{ donation.adresse }}</td>
          <td>{{ donation.numero }}</td>
          <td>{{ donation.description }}</td>
          <td [ngClass]="{
              'text-success': donation.typeDonation === 'MONETAIRE',
              'text-info': donation.typeDonation === 'MATERIEL'
            }">
            {{ donation.typeDonation || 'N/A' }}
          </td>
          <td>{{ donation.amount || 'N/A' }}</td>
          <td>{{ donation.moyenPaiement || 'N/A' }}</td>
          <td [ngClass]="{
              'text-success': donation.etat === 'Neuf',
              'text-warning': donation.etat === 'Bon √âtat',
              'text-danger': donation.etat === 'Us√©'
            }">
            {{ donation.etat || 'N/A' }}
          </td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="deleteDonation(donation.id)">Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Message si aucun don trouv√© -->
  <p *ngIf="!filteredDonations || filteredDonations.length === 0" class="text-center mt-3 text-muted">
    Aucun don trouv√©.
  </p>
</div>
